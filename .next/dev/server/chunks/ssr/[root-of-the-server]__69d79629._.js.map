{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Aliba/Downloads/New%20folder%20%282%29/WEB422-A3/web422-a2-books-app/components/PageHeader.js"],"sourcesContent":["export default function PageHeader({ text, subtext }) {\r\n  return (\r\n    <header className=\"py-4\">\r\n      <h1 className=\"display-5 fw-semibold\">{text}</h1>\r\n      {subtext ? <p className=\"text-muted fs-5 mt-2\">{subtext}</p> : null}\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,WAAW,EAAE,IAAI,EAAE,OAAO,EAAE;IAClD,qBACE,qKAAC;QAAO,WAAU;;0BAChB,qKAAC;gBAAG,WAAU;0BAAyB;;;;;;YACtC,wBAAU,qKAAC;gBAAE,WAAU;0BAAwB;;;;;uBAAe;;;;;;;AAGrE"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Aliba/Downloads/New%20folder%20%282%29/WEB422-A3/web422-a2-books-app/pages/books.js"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport useSWR from 'swr';\r\nimport { Table, Button, Spinner } from 'react-bootstrap';\r\nimport Link from 'next/link';\r\nimport PageHeader from '@/components/PageHeader';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(r => r.json());\r\n\r\nexport default function Books() {\r\n  const router = useRouter();\r\n  const queryString = useMemo(() => new URLSearchParams(router.query).toString(), [router.query]);\r\n\r\n  const [page, setPage] = useState(1);\r\n  useEffect(() => setPage(1), [queryString]);\r\n\r\n  const { data, error, isLoading } = useSWR(\r\n    queryString ? `https://openlibrary.org/search.json?${queryString}&page=${page}&limit=10` : null,\r\n    fetcher\r\n  );\r\n\r\n  const subtext = useMemo(() => {\r\n    const entries = Object.entries(router.query);\r\n    if (!entries.length) return '';\r\n    return entries.map(([k, v]) => `${k}=${v}`).join(' • ');\r\n  }, [router.query]);\r\n\r\n  if (error) return <p className=\"text-danger\">Failed to load results.</p>;\r\n\r\n  return (\r\n    <>\r\n      <PageHeader text=\"Search Results\" subtext={subtext} />\r\n\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" />\r\n      ) : (\r\n        <>\r\n          <Table striped bordered hover responsive>\r\n            <thead>\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Authors</th>\r\n                <th>First Publish Year</th>\r\n                <th>Work</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {(data?.docs || []).map((doc) => {\r\n                const authors = doc.author_name?.join(', ') || 'N/A';\r\n                const title = doc.title || 'Untitled';\r\n                const year = doc.first_publish_year || 'N/A';\r\n                const workKey = doc.key; // e.g., \"/works/OL12345W\"\r\n                const workId = workKey?.split('/').pop();\r\n\r\n                return (\r\n                  <tr key={`${workKey}-${doc.cover_i || ''}`}>\r\n                    <td>{title}</td>\r\n                    <td>{authors}</td>\r\n                    <td>{year}</td>\r\n                    <td>\r\n                      {workId ? (\r\n                        <Button as={Link} href={`/works/${workId}`} size=\"sm\" variant=\"secondary\">\r\n                          View\r\n                        </Button>\r\n                      ) : 'N/A'}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n\r\n          <div className=\"d-flex gap-2\">\r\n            <Button\r\n              variant=\"outline-secondary\"\r\n              onClick={() => setPage(p => Math.max(1, p - 1))}\r\n              disabled={page === 1}\r\n            >\r\n              ← Prev\r\n            </Button>\r\n            <span className=\"align-self-center\">Page {page}</span>\r\n            <Button\r\n              variant=\"outline-secondary\"\r\n              onClick={() => setPage(p => p + 1)}\r\n              disabled={!data || (data.docs || []).length < 10}\r\n            >\r\n              Next →\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;AAEA,MAAM,UAAU,CAAC,GAAG,OAAS,SAAS,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI;AAE7C,SAAS;IACtB,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,cAAc,IAAA,8GAAO,EAAC,IAAM,IAAI,gBAAgB,OAAO,KAAK,EAAE,QAAQ,IAAI;QAAC,OAAO,KAAK;KAAC;IAE9F,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,IAAA,gHAAS,EAAC,IAAM,QAAQ,IAAI;QAAC;KAAY;IAEzC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,iHAAM,EACvC,cAAc,CAAC,oCAAoC,EAAE,YAAY,MAAM,EAAE,KAAK,SAAS,CAAC,GAAG,MAC3F;IAGF,MAAM,UAAU,IAAA,8GAAO,EAAC;QACtB,MAAM,UAAU,OAAO,OAAO,CAAC,OAAO,KAAK;QAC3C,IAAI,CAAC,QAAQ,MAAM,EAAE,OAAO;QAC5B,OAAO,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC;IACnD,GAAG;QAAC,OAAO,KAAK;KAAC;IAEjB,IAAI,OAAO,qBAAO,qKAAC;QAAE,WAAU;kBAAc;;;;;;IAE7C,qBACE;;0BACE,qKAAC,4HAAU;gBAAC,MAAK;gBAAiB,SAAS;;;;;;YAE1C,0BACC,qKAAC,8LAAO;gBAAC,WAAU;gBAAS,MAAK;;;;;qCAEjC;;kCACE,qKAAC,wLAAK;wBAAC,OAAO;wBAAC,QAAQ;wBAAC,KAAK;wBAAC,UAAU;;0CACtC,qKAAC;0CACC,cAAA,qKAAC;;sDACC,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;;;;;;;;;;;;0CAGR,qKAAC;0CACE,CAAC,MAAM,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC;oCACvB,MAAM,UAAU,IAAI,WAAW,EAAE,KAAK,SAAS;oCAC/C,MAAM,QAAQ,IAAI,KAAK,IAAI;oCAC3B,MAAM,OAAO,IAAI,kBAAkB,IAAI;oCACvC,MAAM,UAAU,IAAI,GAAG,EAAE,0BAA0B;oCACnD,MAAM,SAAS,SAAS,MAAM,KAAK;oCAEnC,qBACE,qKAAC;;0DACC,qKAAC;0DAAI;;;;;;0DACL,qKAAC;0DAAI;;;;;;0DACL,qKAAC;0DAAI;;;;;;0DACL,qKAAC;0DACE,uBACC,qKAAC,2LAAM;oDAAC,IAAI,gIAAI;oDAAE,MAAM,CAAC,OAAO,EAAE,QAAQ;oDAAE,MAAK;oDAAK,SAAQ;8DAAY;;;;;2DAGxE;;;;;;;uCATC,GAAG,QAAQ,CAAC,EAAE,IAAI,OAAO,IAAI,IAAI;;;;;gCAa9C;;;;;;;;;;;;kCAIJ,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,2LAAM;gCACL,SAAQ;gCACR,SAAS,IAAM,QAAQ,CAAA,IAAK,KAAK,GAAG,CAAC,GAAG,IAAI;gCAC5C,UAAU,SAAS;0CACpB;;;;;;0CAGD,qKAAC;gCAAK,WAAU;;oCAAoB;oCAAM;;;;;;;0CAC1C,qKAAC,2LAAM;gCACL,SAAQ;gCACR,SAAS,IAAM,QAAQ,CAAA,IAAK,IAAI;gCAChC,UAAU,CAAC,QAAQ,CAAC,KAAK,IAAI,IAAI,EAAE,EAAE,MAAM,GAAG;0CAC/C;;;;;;;;;;;;;;;;AAQb"}}]
}