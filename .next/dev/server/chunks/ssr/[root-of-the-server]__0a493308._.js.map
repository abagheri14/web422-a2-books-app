{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Aliba/Downloads/New%20folder%20%282%29/WEB422-A3/web422-a2-books-app/components/PageHeader.js"],"sourcesContent":["export default function PageHeader({ text, subtext }) {\r\n  return (\r\n    <header className=\"py-4\">\r\n      <h1 className=\"display-5 fw-semibold\">{text}</h1>\r\n      {subtext ? <p className=\"text-muted fs-5 mt-2\">{subtext}</p> : null}\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,WAAW,EAAE,IAAI,EAAE,OAAO,EAAE;IAClD,qBACE,qKAAC;QAAO,WAAU;;0BAChB,qKAAC;gBAAG,WAAU;0BAAyB;;;;;;YACtC,wBAAU,qKAAC;gBAAE,WAAU;0BAAwB;;;;;uBAAe;;;;;;;AAGrE"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Aliba/Downloads/New%20folder%20%282%29/WEB422-A3/web422-a2-books-app/store.js"],"sourcesContent":["import { atom } from 'jotai';\r\nexport const favouritesAtom = atom([]);"],"names":[],"mappings":";;;;AAAA;;;;;;AACO,MAAM,iBAAiB,IAAA,kHAAI,EAAC,EAAE"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Aliba/Downloads/New%20folder%20%282%29/WEB422-A3/web422-a2-books-app/components/BookDetails.js"],"sourcesContent":["import useSWR from 'swr';\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { Button, Col, Row, Spinner } from 'react-bootstrap';\r\nimport { useAtom } from 'jotai';\r\nimport { favouritesAtom } from '@/store';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(r => r.json());\r\n\r\nfunction coverUrl(works) {\r\n  const c = works?.covers?.[0];\r\n  return c ? `https://covers.openlibrary.org/b/id/${c}-L.jpg` : '/no_image.png';\r\n}\r\n\r\nexport default function BookDetails({ book, workId, showFavouriteBtn = true }) {\r\n  const shouldFetch = !book && workId;\r\n  const { data, error, isLoading } = useSWR(\r\n    shouldFetch ? `https://openlibrary.org/works/${workId}.json` : null,\r\n    fetcher\r\n  );\r\n\r\n  const resolved = book || data;\r\n\r\n  const [favouritesList, setFavouritesList] = useAtom(favouritesAtom);\r\n  const initiallyAdded = useMemo(\r\n    () => favouritesList.includes(workId ?? ''),\r\n    [favouritesList, workId]\r\n  );\r\n  const [showAdded, setShowAdded] = useState(initiallyAdded);\r\n\r\n  useEffect(() => setShowAdded(initiallyAdded), [initiallyAdded]);\r\n\r\n  function favouritesClicked() {\r\n    if (!workId) return;\r\n    if (showAdded) {\r\n      setFavouritesList(current => current.filter(fav => fav !== workId));\r\n      setShowAdded(false);\r\n    } else {\r\n      setFavouritesList(current => [...current, workId]);\r\n      setShowAdded(true);\r\n    }\r\n  }\r\n\r\n  if (error) return <p className=\"text-danger\">Failed to load book.</p>;\r\n  if (isLoading) return <Spinner animation=\"border\" role=\"status\" />;\r\n\r\n  if (!resolved) return <p>No data.</p>;\r\n\r\n  const title = resolved.title || '';\r\n  const description =\r\n    typeof resolved.description === 'string'\r\n      ? resolved.description\r\n      : resolved.description?.value || 'No description available.';\r\nconst firstPublished = (() => {\r\n  const w = resolved;\r\n  if (w.first_publish_date) return w.first_publish_date;\r\n  if (w.first_publish_year) return String(w.first_publish_year);\r\n  if (w.created?.value) return w.created.value.slice(0, 10);\r\n  return 'N/A';\r\n})();\r\n  const subjects = resolved.subjects || [];\r\n\r\n  return (\r\n    <Row className=\"gy-3\">\r\n      <Col lg=\"4\">\r\n        <img\r\n          src={coverUrl(resolved)}\r\n          alt={title || 'Cover image'}\r\n          className=\"img-fluid rounded border\"\r\n          onError={(e) => { e.currentTarget.src = '/no_image.png'; }}\r\n        />\r\n      </Col>\r\n      <Col lg=\"8\">\r\n        <h2 className=\"h3 mb-3\">{title}</h2>\r\n        <p className=\"mb-1\"><strong>First Published:</strong> {firstPublished}</p>\r\n        <p className=\"mb-2\"><strong>Subjects:</strong> {subjects.length ? subjects.join(', ') : 'N/A'}</p>\r\n        <p style={{ whiteSpace: 'pre-wrap' }}>{description}</p>\r\n\r\n        {showFavouriteBtn ? (\r\n          <Button\r\n            variant={showAdded ? 'primary' : 'outline-primary'}\r\n            onClick={favouritesClicked}\r\n            className=\"mt-3\"\r\n          >\r\n            {showAdded ? '+ Favourite (added)' : '+ Favourite'}\r\n          </Button>\r\n        ) : null}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;AAEA,MAAM,UAAU,CAAC,GAAG,OAAS,SAAS,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI;AAE5D,SAAS,SAAS,KAAK;IACrB,MAAM,IAAI,OAAO,QAAQ,CAAC,EAAE;IAC5B,OAAO,IAAI,CAAC,oCAAoC,EAAE,EAAE,MAAM,CAAC,GAAG;AAChE;AAEe,SAAS,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,mBAAmB,IAAI,EAAE;IAC3E,MAAM,cAAc,CAAC,QAAQ;IAC7B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,iHAAM,EACvC,cAAc,CAAC,8BAA8B,EAAE,OAAO,KAAK,CAAC,GAAG,MAC/D;IAGF,MAAM,WAAW,QAAQ;IAEzB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qHAAO,EAAC,gHAAc;IAClE,MAAM,iBAAiB,IAAA,8GAAO,EAC5B,IAAM,eAAe,QAAQ,CAAC,UAAU,KACxC;QAAC;QAAgB;KAAO;IAE1B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAE3C,IAAA,gHAAS,EAAC,IAAM,aAAa,iBAAiB;QAAC;KAAe;IAE9D,SAAS;QACP,IAAI,CAAC,QAAQ;QACb,IAAI,WAAW;YACb,kBAAkB,CAAA,UAAW,QAAQ,MAAM,CAAC,CAAA,MAAO,QAAQ;YAC3D,aAAa;QACf,OAAO;YACL,kBAAkB,CAAA,UAAW;uBAAI;oBAAS;iBAAO;YACjD,aAAa;QACf;IACF;IAEA,IAAI,OAAO,qBAAO,qKAAC;QAAE,WAAU;kBAAc;;;;;;IAC7C,IAAI,WAAW,qBAAO,qKAAC,8LAAO;QAAC,WAAU;QAAS,MAAK;;;;;;IAEvD,IAAI,CAAC,UAAU,qBAAO,qKAAC;kBAAE;;;;;;IAEzB,MAAM,QAAQ,SAAS,KAAK,IAAI;IAChC,MAAM,cACJ,OAAO,SAAS,WAAW,KAAK,WAC5B,SAAS,WAAW,GACpB,SAAS,WAAW,EAAE,SAAS;IACvC,MAAM,iBAAiB,CAAC;QACtB,MAAM,IAAI;QACV,IAAI,EAAE,kBAAkB,EAAE,OAAO,EAAE,kBAAkB;QACrD,IAAI,EAAE,kBAAkB,EAAE,OAAO,OAAO,EAAE,kBAAkB;QAC5D,IAAI,EAAE,OAAO,EAAE,OAAO,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG;QACtD,OAAO;IACT,CAAC;IACC,MAAM,WAAW,SAAS,QAAQ,IAAI,EAAE;IAExC,qBACE,qKAAC,kLAAG;QAAC,WAAU;;0BACb,qKAAC,kLAAG;gBAAC,IAAG;0BACN,cAAA,qKAAC;oBACC,KAAK,SAAS;oBACd,KAAK,SAAS;oBACd,WAAU;oBACV,SAAS,CAAC;wBAAQ,EAAE,aAAa,CAAC,GAAG,GAAG;oBAAiB;;;;;;;;;;;0BAG7D,qKAAC,kLAAG;gBAAC,IAAG;;kCACN,qKAAC;wBAAG,WAAU;kCAAW;;;;;;kCACzB,qKAAC;wBAAE,WAAU;;0CAAO,qKAAC;0CAAO;;;;;;4BAAyB;4BAAE;;;;;;;kCACvD,qKAAC;wBAAE,WAAU;;0CAAO,qKAAC;0CAAO;;;;;;4BAAkB;4BAAE,SAAS,MAAM,GAAG,SAAS,IAAI,CAAC,QAAQ;;;;;;;kCACxF,qKAAC;wBAAE,OAAO;4BAAE,YAAY;wBAAW;kCAAI;;;;;;oBAEtC,iCACC,qKAAC,2LAAM;wBACL,SAAS,YAAY,YAAY;wBACjC,SAAS;wBACT,WAAU;kCAET,YAAY,wBAAwB;;;;;+BAErC;;;;;;;;;;;;;AAIZ"}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Aliba/Downloads/New%20folder%20%282%29/WEB422-A3/web422-a2-books-app/pages/about.js"],"sourcesContent":["import PageHeader from '@/components/PageHeader';\r\nimport BookDetails from '@/components/BookDetails';\r\n\r\nexport default function About() {\r\n\r\n  const workId = 'OL45883W';\r\n  const book = { title: 'Sample Book', covers: [], subjects: [], first_publish_date: 'N/A' };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader text=\"About\" subtext=\"Assignment 2 demo page\" />\r\n      <BookDetails book={book} workId={workId} showFavouriteBtn={false} />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;AAEe,SAAS;IAEtB,MAAM,SAAS;IACf,MAAM,OAAO;QAAE,OAAO;QAAe,QAAQ,EAAE;QAAE,UAAU,EAAE;QAAE,oBAAoB;IAAM;IAEzF,qBACE;;0BACE,qKAAC,4HAAU;gBAAC,MAAK;gBAAQ,SAAQ;;;;;;0BACjC,qKAAC,6HAAW;gBAAC,MAAM;gBAAM,QAAQ;gBAAQ,kBAAkB;;;;;;;;AAGjE"}}]
}